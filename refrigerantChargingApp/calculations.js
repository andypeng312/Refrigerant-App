function interp_bound_helper(x, dat) {
//use this to find the upper and lower bound for interpolation
var x1, x2;
for (var key in dat) {
	if (typeof(x1) === 'undefined') {
		x1 = parseFloat(key);
		continue;
	} else if ((x-x1)*(x-parseFloat(key)) > 0) {
		x1 = parseFloat(key);
	} else {
		x2 = parseFloat(key);
		break;
	}
}

return [x1, x2];
}

function interp1(x, dat) {
	var x_bounds = interp_bound_helper(x, dat);
	var x1 = x_bounds[0];
	var x2 = x_bounds[1];
	var y1 = dat[String(x1)];
	var y2 = dat[String(x2)];
	var value = y1 + (x-x1)*(y2-y1)/(x2-x1);
	return value;
}

function interp2(x, y, dat) {
	var x_bounds = interp_bound_helper(x, dat);
	var x1 = x_bounds[0];
	var x2 = x_bounds[1];
	var z1 = interp1(y, dat[String(x1)]);
	var z2 = interp1(y, dat[String(x2)]);
	var value = z1 + (x-x1)*(z2-z1)/(x2-x1);
	return value;
}

//saturation temperature charts for all refrigerants
var satChart = {
	"R-22": {
		"-3.34356726119093": -51,
		"-3.02873922738823": -50,
		"-2.70699618453596": -49,
		"-2.37823106434695": -48,
		"-2.04233600067777": -47,
		"-1.69920233511657": -46,
		"-1.3487206226443": -45,
		"-0.990780637365223": -44,
		"-0.625271378304543": -43,
		"-0.252081075267771": -42,
		"0.128902805237635": -41,
		"0.517793554027953": -40,
		"0.914705213212651": -39,
		"1.31975257011803": -38,
		"1.73305115116104": -37,
		"2.15471721568398": -36,
		"2.58486774974935": -35,
		"3.02362045989747": -34,
		"3.47109376687393": -33,
		"3.92740679932786": -32,
		"4.39267938748412": -31,
		"4.8670320567943": -30,
		"5.35058602157001": -29,
		"5.84346317859836": -28,
		"6.34578610074974": -27,
		"6.85767803057339": -26,
		"7.37926287389143": -25,
		"7.91066519338808": -24,
		"8.45201020220343": -23,
		"9.00342375753127": -22,
		"9.56503235422377": -21,
		"10.1369631184118": -20,
		"10.719343801135": -19,
		"11.3123027719953": -18,
		"11.9159690128287": -17,
		"12.5304721114016": -16,
		"13.1559422551389": -15,
		"13.7925102248785": -14,
		"14.4403073886638": -13,
		"15.0994656955708": -12,
		"15.7701176695799": -11,
		"16.4523964034872": -10,
		"17.146435552866": -9,
		"17.8523693300774": -8,
		"18.5703324983332": -7,
		"19.3004603658175": -6,
		"20.0428887798628": -5,
		"20.7977541211975": -4,
		"21.5651932982451": -3,
		"22.3453437415085": -2,
		"23.1383433980106": -1,
		"23.9443307258176": 0,
		"24.7634446886387": 1,
		"25.5958247505041": 2,
		"26.4416108705281": 3,
		"27.3009434977557": 4,
		"28.173963566102": 5,
		"29.0608124893801": 6,
		"29.9616321564263": 7,
		"30.8765649263214": 8,
		"31.8057536237131": 9,
		"32.7493415342413": 10,
		"33.7074724000707": 11,
		"34.680290415532": 12,
		"35.6679402228752": 13,
		"36.6705669081355": 14,
		"37.688315997119": 15,
		"38.7213334515104": 16,
		"39.769765665099": 17,
		"40.8337594601346": 18,
		"41.9134620838108": 19,
		"43.0090212048804": 20,
		"44.1205849104014": 21,
		"45.248301702631": 22,
		"46.3923204960429": 23,
		"47.5527906145053": 24,
		"48.7298617885895": 25,
		"49.9236841530389": 26,
		"51.1344082443808": 27,
		"52.362184998696": 28,
		"53.6071657495495": 29,
		"54.8695022260737": 30,
		"56.149346551218": 31,
		"57.4468512401674": 32,
		"58.762169198928": 33,
		"60.095453723081": 34,
		"61.4468584967179": 35,
		"62.8165375915496": 36,
		"64.2046454661985": 37,
		"65.6113369656767": 38,
		"67.0367673210472": 39,
		"68.4810921492774": 40,
		"69.9444674532956": 41,
		"71.4270496222289": 42,
		"72.9289954318527": 43,
		"74.4504620452516": 44,
		"75.9916070136612": 45,
		"77.5525882775594": 46,
		"79.1335641679377": 47,
		"80.7346934078117": 48,
		"82.3561351139527": 49,
		"83.9980487988338": 50,
		"85.6605943728194": 51,
		"87.3439321465868": 52,
		"89.048222833778": 53,
		"90.7736275539017": 54,
		"92.5203078354841": 55,
		"94.2884256194676": 56,
		"96.0781432628654": 57,
		"97.8896235426761": 58,
		"99.7230296600679": 59,
		"101.578525244837": 60,
		"103.456274360127": 61,
		"105.356441507446": 62,
		"107.279191631958": 63,
		"109.224690128078": 64,
		"111.193102845354": 65,
		"113.184596094654": 66,
		"115.199336654673": 67,
		"117.237491778745": 68,
		"119.299229201982": 69,
		"121.384717148742": 70,
		"123.494124340431": 71,
		"125.627620003661": 72,
		"127.785373878731": 73,
		"129.967556228504": 74,
		"132.174337847616": 75,
		"134.40589007208": 76,
		"136.662384789277": 77,
		"138.943994448319": 78,
		"141.250892070825": 79,
		"143.583251262126": 80,
		"145.941246222853": 81,
		"148.325051760985": 82,
		"150.734843304342": 83,
		"153.170796913505": 84,
		"155.633089295225": 85,
		"158.121897816296": 86,
		"160.637400517937": 87,
		"163.179776130631": 88,
		"165.749204089546": 89,
		"168.345864550424": 90,
		"170.969938406059": 91,
		"173.621607303305": 92,
		"176.301053660681": 93,
		"179.00846068656": 94,
		"181.744012397972": 95,
		"184.50789364002": 96,
		"187.300290105977": 97,
		"190.121388358017": 98,
		"192.971375848645": 99,
		"195.850440942848": 100,
		"198.758772940964": 101,
		"201.696562102309": 102,
		"204.663999669591": 103,
		"207.661277894126": 104,
		"210.688590061895": 105,
		"213.746130520435": 106,
		"216.834094706676": 107,
		"219.952679175643": 108,
		"223.102081630149": 109,
		"226.282500951462": 110,
		"229.494137231016": 111,
		"232.737191803157": 112,
		"236.011867279032": 113,
		"239.318367581572": 114,
		"242.656897981715": 115,
		"246.02766513583": 116,
		"249.430877124447": 117,
		"252.866743492292": 118,
		"256.335475289749": 119,
		"259.83728511573": 120,
		"263.372387162085": 121,
		"266.940997259541": 122,
		"270.543332925306": 123,
		"274.179613412371": 124,
		"277.850059760577": 125,
		"281.554894849543": 126,
		"285.294343453562": 127,
		"289.068632298457": 128,
		"292.877990120637": 129,
		"296.722647728309": 130,
		"300.60283806503": 131,
		"304.518796275724": 132,
		"308.470759775168": 133,
		"312.45896831924": 134,
		"316.483664078914": 135,
		"320.545091717203": 136,
		"324.64349846923": 137,
		"328.779134225502": 138,
		"332.952251618655": 139,
		"337.163106113745": 140,
		"341.411956102391": 141,
		"345.699063000859": 142,
		"350.024691352392": 143,
		"354.389108934001": 144,
		"358.792586867917": 145,
		"363.235399738064": 146,
		"367.717825711726": 147,
		"372.240146666835": 148,
		"376.802648325117": 149,
		"381.405620391495": 150,
		"386.049356700152": 151,
		"390.734155367579": 152,
		"395.460318953177": 153,
		"400.228154627762": 154,
		"405.037974350598": 155,
		"409.890095055449": 156,
		"414.784838846252": 157,
		"419.722533203156": 158,
		"424.703511199476": 159,
		"429.728111730483": 160,
		"434.796679754796": 161,
		"439.909566549306": 162,
		"445.067129978568": 163,
		"450.269734779883": 164,
		"455.517752865093": 165,
		"460.811563640484": 166,
		"466.151554346189": 167,
		"471.538120416674": 168,
		"476.971665863994": 169,
		"482.452603685669": 170,
		"487.981356299386": 171,
		"493.55835600672": 172,
		"499.184045488393": 173,
		"504.858878334055": 174,
		"510.583319609547": 175,
		"516.357846465243": 176,
		"522.182948789347": 177,
		"528.05912991043": 178,
		"533.98690735425": 179,
		"539.966813660159": 180,
		"545.999397263362": 181,
		"552.085223449943": 182,
		"558.224875392638": 183,
		"564.418955276111": 184,
		"570.668085522106": 185,
		"576.972910125901": 186,
		"583.33409611752": 187,
		"589.752335162774": 188,
		"596.228345321919": 189,
		"602.762872986128": 190,
		"609.356695015421": 191,
		"616.010621105681": 192,
		"622.725496416814": 193,
		"629.502204500129": 194,
		"636.341670569534": 195,
		"643.244865169821": 196,
		"650.212808305335": 197,
		"657.24657410522": 198,
		"664.347296117152": 199,
		"671.516173340931": 200,
		"678.75447713895": 201,
		"686.063559191222": 202,
		"693.444860704374": 203,
		"700.899923135916": 204,
		"708.430400764535": 205,
		"716.038075528382": 206,
		"723.724874675477": 207,
		"731.49289193679": 208,
		"739.344413160748": 209,
		"747.281947668197": 210,
		"755.308267041931": 211,
		"763.426453726095": 212,
		"771.639962790647": 213,
		"779.952701706199": 214,
		"788.369135301625": 215,
		"796.894426829517": 216,
		"805.534632339987": 217,
		"814.296976516088": 218,
		"823.190258234285": 219,
		"832.225473375213": 220,
		"841.416825108685": 221,
		"850.783483789752": 222,
		"860.352965227694": 223,
		"870.168601575288": 224,
		"880.310372196755": 225,
		"890.990709554211": 226
	}
};

//chart of superheat based on dry bulb and wet bulb temps
var DB_WB_temp = {
	"70": {
		"60": 15,
		"61": 16.5,
		"62": 18,
		"63": 19.5,
		"64": 21,
		"65": 22.5,
		"66": 24,
		"67": 25.5,
		"68": 27,
		"69": 28.5,
		"70": 30,
		"71": 31.5,
		"72": 33,
		"73": 34.5,
		"74": 36,
		"75": 37.5,
		"76": 39,
		"77": 40.5,
		"78": 42,
		"79": 43.5,
		"80": 45,
		"81": 46.5,
		"82": 48,
		"83": 49.5,
		"84": 51,
		"85": 52.5,
	},
	"71": {
		"60": 14.5,
		"61": 16,
		"62": 17.5,
		"63": 19,
		"64": 20.5,
		"65": 22,
		"66": 23.5,
		"67": 25,
		"68": 26.5,
		"69": 28,
		"70": 29.5,
		"71": 31,
		"72": 32.5,
		"73": 34,
		"74": 35.5,
		"75": 37,
		"76": 38.5,
		"77": 40,
		"78": 41.5,
		"79": 43,
		"80": 44.5,
		"81": 46,
		"82": 47.5,
		"83": 49,
		"84": 50.5,
		"85": 52,
	},
	"72": {
		"60": 14,
		"61": 15.5,
		"62": 17,
		"63": 18.5,
		"64": 20,
		"65": 21.5,
		"66": 23,
		"67": 24.5,
		"68": 26,
		"69": 27.5,
		"70": 29,
		"71": 30.5,
		"72": 32,
		"73": 33.5,
		"74": 35,
		"75": 36.5,
		"76": 38,
		"77": 39.5,
		"78": 41,
		"79": 42.5,
		"80": 44,
		"81": 45.5,
		"82": 47,
		"83": 48.5,
		"84": 50,
		"85": 51.5,
	},
	"73": {
		"60": 13.5,
		"61": 15,
		"62": 16.5,
		"63": 18,
		"64": 19.5,
		"65": 21,
		"66": 22.5,
		"67": 24,
		"68": 25.5,
		"69": 27,
		"70": 28.5,
		"71": 30,
		"72": 31.5,
		"73": 33,
		"74": 34.5,
		"75": 36,
		"76": 37.5,
		"77": 39,
		"78": 40.5,
		"79": 42,
		"80": 43.5,
		"81": 45,
		"82": 46.5,
		"83": 48,
		"84": 49.5,
		"85": 51,
	},
	"74": {
		"60": 13,
		"61": 14.5,
		"62": 16,
		"63": 17.5,
		"64": 19,
		"65": 20.5,
		"66": 22,
		"67": 23.5,
		"68": 25,
		"69": 26.5,
		"70": 28,
		"71": 29.5,
		"72": 31,
		"73": 32.5,
		"74": 34,
		"75": 35.5,
		"76": 37,
		"77": 38.5,
		"78": 40,
		"79": 41.5,
		"80": 43,
		"81": 44.5,
		"82": 46,
		"83": 47.5,
		"84": 49,
		"85": 50.5,
	},
	"75": {
		"60": 12.5,
		"61": 14,
		"62": 15.5,
		"63": 17,
		"64": 18.5,
		"65": 20,
		"66": 21.5,
		"67": 23,
		"68": 24.5,
		"69": 26,
		"70": 27.5,
		"71": 29,
		"72": 30.5,
		"73": 32,
		"74": 33.5,
		"75": 35,
		"76": 36.5,
		"77": 38,
		"78": 39.5,
		"79": 41,
		"80": 42.5,
		"81": 44,
		"82": 45.5,
		"83": 47,
		"84": 48.5,
		"85": 50,
	},
	"76": {
		"60": 12,
		"61": 13.5,
		"62": 15,
		"63": 16.5,
		"64": 18,
		"65": 19.5,
		"66": 21,
		"67": 22.5,
		"68": 24,
		"69": 25.5,
		"70": 27,
		"71": 28.5,
		"72": 30,
		"73": 31.5,
		"74": 33,
		"75": 34.5,
		"76": 36,
		"77": 37.5,
		"78": 39,
		"79": 40.5,
		"80": 42,
		"81": 43.5,
		"82": 45,
		"83": 46.5,
		"84": 48,
		"85": 49.5,
	},
	"77": {
		"60": 11.5,
		"61": 13,
		"62": 14.5,
		"63": 16,
		"64": 17.5,
		"65": 19,
		"66": 20.5,
		"67": 22,
		"68": 23.5,
		"69": 25,
		"70": 26.5,
		"71": 28,
		"72": 29.5,
		"73": 31,
		"74": 32.5,
		"75": 34,
		"76": 35.5,
		"77": 37,
		"78": 38.5,
		"79": 40,
		"80": 41.5,
		"81": 43,
		"82": 44.5,
		"83": 46,
		"84": 47.5,
		"85": 49,
	},
	"78": {
		"60": 11,
		"61": 12.5,
		"62": 14,
		"63": 15.5,
		"64": 17,
		"65": 18.5,
		"66": 20,
		"67": 21.5,
		"68": 23,
		"69": 24.5,
		"70": 26,
		"71": 27.5,
		"72": 29,
		"73": 30.5,
		"74": 32,
		"75": 33.5,
		"76": 35,
		"77": 36.5,
		"78": 38,
		"79": 39.5,
		"80": 41,
		"81": 42.5,
		"82": 44,
		"83": 45.5,
		"84": 47,
		"85": 48.5,
	},
	"79": {
		"60": 10.5,
		"61": 12,
		"62": 13.5,
		"63": 15,
		"64": 16.5,
		"65": 18,
		"66": 19.5,
		"67": 21,
		"68": 22.5,
		"69": 24,
		"70": 25.5,
		"71": 27,
		"72": 28.5,
		"73": 30,
		"74": 31.5,
		"75": 33,
		"76": 34.5,
		"77": 36,
		"78": 37.5,
		"79": 39,
		"80": 40.5,
		"81": 42,
		"82": 43.5,
		"83": 45,
		"84": 46.5,
		"85": 48,
	},
	"80": {
		"60": 10,
		"61": 11.5,
		"62": 13,
		"63": 14.5,
		"64": 16,
		"65": 17.5,
		"66": 19,
		"67": 20.5,
		"68": 22,
		"69": 23.5,
		"70": 25,
		"71": 26.5,
		"72": 28,
		"73": 29.5,
		"74": 31,
		"75": 32.5,
		"76": 34,
		"77": 35.5,
		"78": 37,
		"79": 38.5,
		"80": 40,
		"81": 41.5,
		"82": 43,
		"83": 44.5,
		"84": 46,
		"85": 47.5,
	},
	"81": {
		"60": 9.5,
		"61": 11,
		"62": 12.5,
		"63": 14,
		"64": 15.5,
		"65": 17,
		"66": 18.5,
		"67": 20,
		"68": 21.5,
		"69": 23,
		"70": 24.5,
		"71": 26,
		"72": 27.5,
		"73": 29,
		"74": 30.5,
		"75": 32,
		"76": 33.5,
		"77": 35,
		"78": 36.5,
		"79": 38,
		"80": 39.5,
		"81": 41,
		"82": 42.5,
		"83": 44,
		"84": 45.5,
		"85": 47,
	},
	"82": {
		"60": 9,
		"61": 10.5,
		"62": 12,
		"63": 13.5,
		"64": 15,
		"65": 16.5,
		"66": 18,
		"67": 19.5,
		"68": 21,
		"69": 22.5,
		"70": 24,
		"71": 25.5,
		"72": 27,
		"73": 28.5,
		"74": 30,
		"75": 31.5,
		"76": 33,
		"77": 34.5,
		"78": 36,
		"79": 37.5,
		"80": 39,
		"81": 40.5,
		"82": 42,
		"83": 43.5,
		"84": 45,
		"85": 46.5,
	},
	"83": {
		"60": 8.5,
		"61": 10,
		"62": 11.5,
		"63": 13,
		"64": 14.5,
		"65": 16,
		"66": 17.5,
		"67": 19,
		"68": 20.5,
		"69": 22,
		"70": 23.5,
		"71": 25,
		"72": 26.5,
		"73": 28,
		"74": 29.5,
		"75": 31,
		"76": 32.5,
		"77": 34,
		"78": 35.5,
		"79": 37,
		"80": 38.5,
		"81": 40,
		"82": 41.5,
		"83": 43,
		"84": 44.5,
		"85": 46,
	},
	"84": {
		"60": 8,
		"61": 9.5,
		"62": 11,
		"63": 12.5,
		"64": 14,
		"65": 15.5,
		"66": 17,
		"67": 18.5,
		"68": 20,
		"69": 21.5,
		"70": 23,
		"71": 24.5,
		"72": 26,
		"73": 27.5,
		"74": 29,
		"75": 30.5,
		"76": 32,
		"77": 33.5,
		"78": 35,
		"79": 36.5,
		"80": 38,
		"81": 39.5,
		"82": 41,
		"83": 42.5,
		"84": 44,
		"85": 45.5,
	},
	"85": {
		"60": 7.5,
		"61": 9,
		"62": 10.5,
		"63": 12,
		"64": 13.5,
		"65": 15,
		"66": 16.5,
		"67": 18,
		"68": 19.5,
		"69": 21,
		"70": 22.5,
		"71": 24,
		"72": 25.5,
		"73": 27,
		"74": 28.5,
		"75": 30,
		"76": 31.5,
		"77": 33,
		"78": 34.5,
		"79": 36,
		"80": 37.5,
		"81": 39,
		"82": 40.5,
		"83": 42,
		"84": 43.5,
		"85": 45,
	},
	"86": {
		"60": 7,
		"61": 8.5,
		"62": 10,
		"63": 11.5,
		"64": 13,
		"65": 14.5,
		"66": 16,
		"67": 17.5,
		"68": 19,
		"69": 20.5,
		"70": 22,
		"71": 23.5,
		"72": 25,
		"73": 26.5,
		"74": 28,
		"75": 29.5,
		"76": 31,
		"77": 32.5,
		"78": 34,
		"79": 35.5,
		"80": 37,
		"81": 38.5,
		"82": 40,
		"83": 41.5,
		"84": 43,
		"85": 44.5,
	},
	"87": {
		"60": 6.5,
		"61": 8,
		"62": 9.5,
		"63": 11,
		"64": 12.5,
		"65": 14,
		"66": 15.5,
		"67": 17,
		"68": 18.5,
		"69": 20,
		"70": 21.5,
		"71": 23,
		"72": 24.5,
		"73": 26,
		"74": 27.5,
		"75": 29,
		"76": 30.5,
		"77": 32,
		"78": 33.5,
		"79": 35,
		"80": 36.5,
		"81": 38,
		"82": 39.5,
		"83": 41,
		"84": 42.5,
		"85": 44,
	},
	"88": {
		"60": 6,
		"61": 7.5,
		"62": 9,
		"63": 10.5,
		"64": 12,
		"65": 13.5,
		"66": 15,
		"67": 16.5,
		"68": 18,
		"69": 19.5,
		"70": 21,
		"71": 22.5,
		"72": 24,
		"73": 25.5,
		"74": 27,
		"75": 28.5,
		"76": 30,
		"77": 31.5,
		"78": 33,
		"79": 34.5,
		"80": 36,
		"81": 37.5,
		"82": 39,
		"83": 40.5,
		"84": 42,
		"85": 43.5,
	},
	"89": {
		"60": 5.5,
		"61": 7,
		"62": 8.5,
		"63": 10,
		"64": 11.5,
		"65": 13,
		"66": 14.5,
		"67": 16,
		"68": 17.5,
		"69": 19,
		"70": 20.5,
		"71": 22,
		"72": 23.5,
		"73": 25,
		"74": 26.5,
		"75": 28,
		"76": 29.5,
		"77": 31,
		"78": 32.5,
		"79": 34,
		"80": 35.5,
		"81": 37,
		"82": 38.5,
		"83": 40,
		"84": 41.5,
		"85": 43,
	},
	"90": {
		"60": 5,
		"61": 6.5,
		"62": 8,
		"63": 9.5,
		"64": 11,
		"65": 12.5,
		"66": 14,
		"67": 15.5,
		"68": 17,
		"69": 18.5,
		"70": 20,
		"71": 21.5,
		"72": 23,
		"73": 24.5,
		"74": 26,
		"75": 27.5,
		"76": 29,
		"77": 30.5,
		"78": 32,
		"79": 33.5,
		"80": 35,
		"81": 36.5,
		"82": 38,
		"83": 39.5,
		"84": 41,
		"85": 42.5,
	},
	"91": {
		"60": 4.5,
		"61": 6,
		"62": 7.5,
		"63": 9,
		"64": 10.5,
		"65": 12,
		"66": 13.5,
		"67": 15,
		"68": 16.5,
		"69": 18,
		"70": 19.5,
		"71": 21,
		"72": 22.5,
		"73": 24,
		"74": 25.5,
		"75": 27,
		"76": 28.5,
		"77": 30,
		"78": 31.5,
		"79": 33,
		"80": 34.5,
		"81": 36,
		"82": 37.5,
		"83": 39,
		"84": 40.5,
		"85": 42,
	},
	"92": {
		"60": 4,
		"61": 5.5,
		"62": 7,
		"63": 8.5,
		"64": 10,
		"65": 11.5,
		"66": 13,
		"67": 14.5,
		"68": 16,
		"69": 17.5,
		"70": 19,
		"71": 20.5,
		"72": 22,
		"73": 23.5,
		"74": 25,
		"75": 26.5,
		"76": 28,
		"77": 29.5,
		"78": 31,
		"79": 32.5,
		"80": 34,
		"81": 35.5,
		"82": 37,
		"83": 38.5,
		"84": 40,
		"85": 41.5,
	},
	"93": {
		"60": 3.5,
		"61": 5,
		"62": 6.5,
		"63": 8,
		"64": 9.5,
		"65": 11,
		"66": 12.5,
		"67": 14,
		"68": 15.5,
		"69": 17,
		"70": 18.5,
		"71": 20,
		"72": 21.5,
		"73": 23,
		"74": 24.5,
		"75": 26,
		"76": 27.5,
		"77": 29,
		"78": 30.5,
		"79": 32,
		"80": 33.5,
		"81": 35,
		"82": 36.5,
		"83": 38,
		"84": 39.5,
		"85": 41,
	},
	"94": {
		"60": 3,
		"61": 4.5,
		"62": 6,
		"63": 7.5,
		"64": 9,
		"65": 10.5,
		"66": 12,
		"67": 13.5,
		"68": 15,
		"69": 16.5,
		"70": 18,
		"71": 19.5,
		"72": 21,
		"73": 22.5,
		"74": 24,
		"75": 25.5,
		"76": 27,
		"77": 28.5,
		"78": 30,
		"79": 31.5,
		"80": 33,
		"81": 34.5,
		"82": 36,
		"83": 37.5,
		"84": 39,
		"85": 40.5,
	},
	"95": {
		"60": 2.5,
		"61": 4,
		"62": 5.5,
		"63": 7,
		"64": 8.5,
		"65": 10,
		"66": 11.5,
		"67": 13,
		"68": 14.5,
		"69": 16,
		"70": 17.5,
		"71": 19,
		"72": 20.5,
		"73": 22,
		"74": 23.5,
		"75": 25,
		"76": 26.5,
		"77": 28,
		"78": 29.5,
		"79": 31,
		"80": 32.5,
		"81": 34,
		"82": 35.5,
		"83": 37,
		"84": 38.5,
		"85": 40,
	},
	"96": {
		"60": 2,
		"61": 3.5,
		"62": 5,
		"63": 6.5,
		"64": 8,
		"65": 9.5,
		"66": 11,
		"67": 12.5,
		"68": 14,
		"69": 15.5,
		"70": 17,
		"71": 18.5,
		"72": 20,
		"73": 21.5,
		"74": 23,
		"75": 24.5,
		"76": 26,
		"77": 27.5,
		"78": 29,
		"79": 30.5,
		"80": 32,
		"81": 33.5,
		"82": 35,
		"83": 36.5,
		"84": 38,
		"85": 39.5,
	},
	"97": {
		"60": 1.5,
		"61": 3,
		"62": 4.5,
		"63": 6,
		"64": 7.5,
		"65": 9,
		"66": 10.5,
		"67": 12,
		"68": 13.5,
		"69": 15,
		"70": 16.5,
		"71": 18,
		"72": 19.5,
		"73": 21,
		"74": 22.5,
		"75": 24,
		"76": 25.5,
		"77": 27,
		"78": 28.5,
		"79": 30,
		"80": 31.5,
		"81": 33,
		"82": 34.5,
		"83": 36,
		"84": 37.5,
		"85": 39,
	},
	"98": {
		"60": 1,
		"61": 2.5,
		"62": 4,
		"63": 5.5,
		"64": 7,
		"65": 8.5,
		"66": 10,
		"67": 11.5,
		"68": 13,
		"69": 14.5,
		"70": 16,
		"71": 17.5,
		"72": 19,
		"73": 20.5,
		"74": 22,
		"75": 23.5,
		"76": 25,
		"77": 26.5,
		"78": 28,
		"79": 29.5,
		"80": 31,
		"81": 32.5,
		"82": 34,
		"83": 35.5,
		"84": 37,
		"85": 38.5,
	},
	"99": {
		"60": 0.5,
		"61": 2,
		"62": 3.5,
		"63": 5,
		"64": 6.5,
		"65": 8,
		"66": 9.5,
		"67": 11,
		"68": 12.5,
		"69": 14,
		"70": 15.5,
		"71": 17,
		"72": 18.5,
		"73": 20,
		"74": 21.5,
		"75": 23,
		"76": 24.5,
		"77": 26,
		"78": 27.5,
		"79": 29,
		"80": 30.5,
		"81": 32,
		"82": 33.5,
		"83": 35,
		"84": 36.5,
		"85": 38,
	},
	"100": {
		"60": 0,
		"61": 1.5,
		"62": 3,
		"63": 4.5,
		"64": 6,
		"65": 7.5,
		"66": 9,
		"67": 10.5,
		"68": 12,
		"69": 13.5,
		"70": 15,
		"71": 16.5,
		"72": 18,
		"73": 19.5,
		"74": 21,
		"75": 22.5,
		"76": 24,
		"77": 25.5,
		"78": 27,
		"79": 28.5,
		"80": 30,
		"81": 31.5,
		"82": 33,
		"83": 34.5,
		"84": 36,
		"85": 37.5,
	}
};

function Sat_temp(pressure, refrigerant) {
	//for both subcooling and superheat
	return interp1(pressure, satChart[refrigerant]);
}

//superheat////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function Super_Heat(DB, WB) {
	//return interp2(DB, WB, DB_WB_temp);
	//this formula works as well
	var SH = (3*WB - 80 - DB)/2;
	if (SH <= 0) {
		throw 'Bad numbers for superheat';
	} else {
		return SH;
	}
}

function Actual_SH (LowT, LowP, refrigerant) {
	return LowT-Sat_temp(LowP, refrigerant);
}

function charge_status_SH(inputs) {
	console.log(inputs)
	var output = {};
	output.tSH = (inputs.MFsuperheatsupplied === 'on') ? parseFloat(inputs.MFsuperheat) : Super_Heat(inputs.DB, inputs.WB);
	output.SH = Actual_SH(inputs.LowT, inputs.LowP, inputs.refrigerant);
	if (isNaN(output.SH) || isNaN(output.tSH)) {
		throw 'Error in calculating superheat'
	}
	if (output.SH > output.tSH + inputs.tol) {
	    output.status = 1; //add refrigerant
	} else if (output.SH < output.tSH - inputs.tol) {
	    output.status = -1; //remove refrigerant
	} else {
		output.status = 0;
	}
	console.log(output)
	return output;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//subcooling////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function charge_status_SC(inputs) {
	var output = {};
	output.SC = Sat_temp(inputs.HighP, inputs.refrigerant)-inputs.HighT;
	output.tSC = parseFloat(inputs.MFsubcool);
	if (isNaN(output.tSC) || isNaN(output.SC)) {
		throw 'Error in calculating subcooling'
	}
	if (output.SC > output.tSC + inputs.tol) {
	    output.status = 1; //add refrigerant
	} else if (output.SC < output.tSC - inputs.tol) {
	    output.status = -1; //remove refrigerant
	} else {
		output.status = 0;
	}
	return output;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function charge_status(inputs) {
	if (inputs.method === 'superheat') {
		inputs.tol = 5;
		return charge_status_SH(inputs);
	}  else if (inputs.method === 'subcooling') {
		inputs.tol = 3;
		return charge_status_SC(inputs);
	}
}